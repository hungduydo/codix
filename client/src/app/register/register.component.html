<div class="container mt-5">
  <h2>Register</h2>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="username">Nickname</label>
      <input
        type="text"
        class="form-control"
        id="username"
        formControlName="username"
        placeholder="Enter nickname"
      />
      <div
        *ngIf="f.username?.invalid && f.username.touched"
        class="text-danger"
      >
        <div *ngIf="f.username?.errors?.['required']">Nickname is required</div>
        <div *ngIf="f.username?.errors?.['maxLength']">
          Nickname cannot be longer than 40 characters
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input
        type="password"
        class="form-control"
        id="password"
        formControlName="password"
        placeholder="Enter password"
      />
      <div *ngIf="password?.invalid && password?.touched" class="text-danger">
        <div *ngIf="password?.errors?.['required']">Password is required</div>
        <div *ngIf="password?.errors?.['minlength']">
          Password must be at least 8 characters long
        </div>
        <div *ngIf="password?.errors?.['maxLength']">
          Password cannot be longer than 40 characters
        </div>
      </div>
    </div>
    <div class="form-group" >
      <label for="confirmPassword">Confirm Password</label>
      <input
        type="password"
        class="form-control"
        id="confirmPassword"
        formControlName="confirmPassword"
        placeholder="Confirm password"
      />
      <div
        *ngIf="confirmPassword?.invalid && confirmPassword?.touched"
        class="text-danger"

      >
        <div *ngIf="confirmPassword?.errors?.['required']">
          Confirm password is required
        </div>
        <div *ngIf="confirmPassword?.errors?.['minLength']">
          Password must be at least 8 characters long
        </div>
        <div *ngIf="confirmPassword?.errors?.['maxLength']">
          Password cannot be longer than 40 characters
        </div>

      </div>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        class="form-control"
        id="email"
        formControlName="email"
        placeholder="Enter email"
      />
      <div *ngIf="email?.invalid && email?.touched" class="text-danger">
        <div *ngIf="email?.errors?.['required']">Email is required</div>
        <div *ngIf="email?.errors?.['email']">
          Email must be a valid email address
        </div>
        <div *ngIf="email?.errors?.['maxLength']">
          Email cannot be longer than 40 characters
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="phone">Phone</label>
      <input
        type="text"
        class="form-control"
        id="phone"
        formControlName="phone"
        placeholder="Enter phone"
      />
      <div *ngIf="f.phone.invalid && f.phone.touched" class="text-danger">
        <div *ngIf="f.phone.errors.required">Phone is required</div>
        <div *ngIf="f.phone.errors.pattern">Phone must be a valid number</div>
      </div>
    </div>
    <div class="form-group">
      <label for="country">Country</label>
      <select class="form-control" id="country" formControlName="country" >
        <option>Choose...</option>
        <option *ngFor="let country of countries" [value]="Object.keys(country)[0]">
          {{ Object.values(country)[0] }}
        </option>
      </select>
    </div>
    <div class="alert alert-danger" *ngIf="errorMessage">{{errorMessage}}</div>
    <div class="row">
      <span class="col my-3">
        Already have account?
        <a routerLink="/login"> login </a>
      </span>
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="!registerForm.valid">Submit</button>
  </form>
</div>
